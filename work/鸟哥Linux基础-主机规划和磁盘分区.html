<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>鸟哥Linux基础-主机规划和磁盘分区 | 清峰</title>
    <meta name="description" content="瞎逼逼乐呵呵">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.0d62e7eb.css" as="style"><link rel="preload" href="/assets/js/app.2d955dbb.js" as="script"><link rel="preload" href="/assets/js/58.244520da.js" as="script"><link rel="prefetch" href="/assets/js/30.345400e7.js"><link rel="prefetch" href="/assets/js/2.f5f0c793.js"><link rel="prefetch" href="/assets/js/3.0c53a62e.js"><link rel="prefetch" href="/assets/js/4.6dc6e921.js"><link rel="prefetch" href="/assets/js/5.f0d8b77a.js"><link rel="prefetch" href="/assets/js/6.7a9758ae.js"><link rel="prefetch" href="/assets/js/7.b51204e9.js"><link rel="prefetch" href="/assets/js/8.c6e4b2c3.js"><link rel="prefetch" href="/assets/js/9.b42a1ed6.js"><link rel="prefetch" href="/assets/js/10.cd90217d.js"><link rel="prefetch" href="/assets/js/11.b90dd23f.js"><link rel="prefetch" href="/assets/js/12.7fd7f019.js"><link rel="prefetch" href="/assets/js/13.5dd26e27.js"><link rel="prefetch" href="/assets/js/14.edbc82f6.js"><link rel="prefetch" href="/assets/js/15.57d836d3.js"><link rel="prefetch" href="/assets/js/16.a6c01c03.js"><link rel="prefetch" href="/assets/js/17.8b192702.js"><link rel="prefetch" href="/assets/js/18.881fd6a9.js"><link rel="prefetch" href="/assets/js/19.2a77eb47.js"><link rel="prefetch" href="/assets/js/20.3125fd14.js"><link rel="prefetch" href="/assets/js/21.65d186d5.js"><link rel="prefetch" href="/assets/js/22.b212c0f6.js"><link rel="prefetch" href="/assets/js/23.f8565e0f.js"><link rel="prefetch" href="/assets/js/24.a5d020f5.js"><link rel="prefetch" href="/assets/js/25.8d212baf.js"><link rel="prefetch" href="/assets/js/26.e32b59c8.js"><link rel="prefetch" href="/assets/js/27.8fee8fa6.js"><link rel="prefetch" href="/assets/js/28.10d662c5.js"><link rel="prefetch" href="/assets/js/29.fc2b7d6f.js"><link rel="prefetch" href="/assets/js/31.0021887b.js"><link rel="prefetch" href="/assets/js/32.6d8cc34a.js"><link rel="prefetch" href="/assets/js/33.400472c3.js"><link rel="prefetch" href="/assets/js/34.d0b5b557.js"><link rel="prefetch" href="/assets/js/35.dab3d66c.js"><link rel="prefetch" href="/assets/js/36.4204741a.js"><link rel="prefetch" href="/assets/js/37.185d1621.js"><link rel="prefetch" href="/assets/js/38.550aada5.js"><link rel="prefetch" href="/assets/js/39.9e92ee1e.js"><link rel="prefetch" href="/assets/js/40.03a52358.js"><link rel="prefetch" href="/assets/js/41.ef831165.js"><link rel="prefetch" href="/assets/js/42.e0c38418.js"><link rel="prefetch" href="/assets/js/43.da8459a5.js"><link rel="prefetch" href="/assets/js/44.4f569cce.js"><link rel="prefetch" href="/assets/js/45.38642093.js"><link rel="prefetch" href="/assets/js/46.7b97ef73.js"><link rel="prefetch" href="/assets/js/47.f8d75afb.js"><link rel="prefetch" href="/assets/js/48.2e2cb42a.js"><link rel="prefetch" href="/assets/js/49.60a17578.js"><link rel="prefetch" href="/assets/js/50.d45ed52e.js"><link rel="prefetch" href="/assets/js/51.d7919b6f.js"><link rel="prefetch" href="/assets/js/52.99ec12e9.js"><link rel="prefetch" href="/assets/js/53.493ba67b.js"><link rel="prefetch" href="/assets/js/54.5e33cfde.js"><link rel="prefetch" href="/assets/js/55.c8831137.js"><link rel="prefetch" href="/assets/js/56.297ec3bb.js"><link rel="prefetch" href="/assets/js/57.7044d604.js"><link rel="prefetch" href="/assets/js/59.7a54d002.js"><link rel="prefetch" href="/assets/js/60.dd3227c0.js"><link rel="prefetch" href="/assets/js/61.2489adfb.js"><link rel="prefetch" href="/assets/js/62.b788d9b9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0d62e7eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="particles"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">清峰</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  认真生活</a></div><div class="nav-item"><a href="/work/" class="nav-link router-link-active">
  开心工作</a></div><div class="nav-item"><a href="/relax/" class="nav-link">
  劳逸结合</a></div> <a href="https://github.com/kiyonlin" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  认真生活</a></div><div class="nav-item"><a href="/work/" class="nav-link router-link-active">
  开心工作</a></div><div class="nav-item"><a href="/relax/" class="nav-link">
  劳逸结合</a></div> <a href="https://github.com/kiyonlin" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>鸟哥Linux基础-主机规划和磁盘分区</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#linux和硬件" class="sidebar-link">Linux和硬件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#磁盘分区" class="sidebar-link">磁盘分区</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#磁盘连接的方式和设备文件名的关系" class="sidebar-link">磁盘连接的方式和设备文件名的关系</a></li><li class="sidebar-sub-header"><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#msdos-mbr-分区表格式与限制" class="sidebar-link">MSDOS (MBR) 分区表格式与限制</a></li><li class="sidebar-sub-header"><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#guid-partition-table-gpt磁盘分区表" class="sidebar-link">GUID partition table, GPT磁盘分区表</a></li><li class="sidebar-sub-header"><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#bios-搭配mbr-gpt-的开机流程" class="sidebar-link">BIOS 搭配MBR/GPT 的开机流程</a></li><li class="sidebar-sub-header"><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#uefi-bios搭配gpt开机的流程" class="sidebar-link">UEFI BIOS搭配GPT开机的流程</a></li><li class="sidebar-sub-header"><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#linux安装模式下，磁盘分区的选择-极重要" class="sidebar-link">Linux安装模式下，磁盘分区的选择(极重要)</a></li></ul></li><li><a href="/work/%E9%B8%9F%E5%93%A5Linux%E5%9F%BA%E7%A1%80-%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E5%92%8C%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA.html#重点回顾" class="sidebar-link">重点回顾</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content -mt-32"><p>原文<a href="http://linux.vbird.org/linux_basic/0130designlinux.php" target="_blank" rel="noopener noreferrer">鸟哥的 Linux私房菜 第二章、主機規劃與磁碟分割<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="linux和硬件"><a href="#linux和硬件" aria-hidden="true" class="header-anchor">#</a> Linux和硬件</h2> <table><thead><tr><th style="text-align:left">设备</th> <th style="text-align:left">设备在Linux内的文件名</th></tr></thead> <tbody><tr><td style="text-align:left">SCSI/SATA/USB硬盘</td> <td style="text-align:left">/dev/sd[ap]</td></tr> <tr><td style="text-align:left">USB</td> <td style="text-align:left">/dev/sd[ap] (与SATA相同)</td></tr> <tr><td style="text-align:left">VirtI/O</td> <td style="text-align:left">/dev/vd[ap] (用于虚拟机器内)</td></tr> <tr><td style="text-align:left">软盘</td> <td style="text-align:left">/dev/fd[0-1]</td></tr> <tr><td style="text-align:left">打印机</td> <td style="text-align:left">/dev/lp[0-2] (25针打印机)、/dev/usb/lp[0-15] (USB接口)</td></tr> <tr><td style="text-align:left">鼠标</td> <td style="text-align:left">/dev/input/mouse[0-15] (通用)、/dev/psaux (PS/2接口)、/dev/mouse (当前鼠标)</td></tr> <tr><td style="text-align:left">CDROM/DVDROM</td> <td style="text-align:left">/dev/scd[0-1] (通用) 、/dev/sr[0-1] (通用，CentOS较常见) 、/dev/cdrom (当前CDROM)</td></tr> <tr><td style="text-align:left">磁带机</td> <td style="text-align:left">/dev/ht0 (IDE接口) 、/dev/st0 (SATA/SCSI接口) 、/dev/tape (当前磁带)</td></tr> <tr><td style="text-align:left">IDE硬盘机</td> <td style="text-align:left">/dev/hd[ad] (旧式系统才有)</td></tr></tbody></table> <h2 id="磁盘分区"><a href="#磁盘分区" aria-hidden="true" class="header-anchor">#</a> 磁盘分区</h2> <h3 id="磁盘连接的方式和设备文件名的关系"><a href="#磁盘连接的方式和设备文件名的关系" aria-hidden="true" class="header-anchor">#</a> 磁盘连接的方式和设备文件名的关系</h3> <p><strong>正常的实体机器大概使用的都是/dev/sd[a-]的设备文件名，至于虚拟机器环境底下，为了加速，可能就会使用/dev/vd[ap]这种设备文件名！</strong></p> <p>由于SATA/USB/SAS等磁盘接口都是使用SCSI模组来驱动的，因此这些接口的设备文件名都是/dev/sd[ap]的格式。所以SATA/USB接口的磁盘根本就没有一定的顺序，那如何决定他的设备文件名呢？这个时候就得要<strong>根据Linux核心检测到磁盘的顺序</strong>了！</p> <p><em><strong>例题：</strong></em>
如果你的PC上面有两个SATA磁盘以及一个USB磁盘，而主机板上面有六个SATA的插槽。这两个SATA磁盘分别安插在主机板上的SATA1, SATA5插槽上， 请问这三个磁盘在Linux中的设备文件名为何？
<em><strong>答：</strong></em>
由于是使用检测到的顺序来决定设备文件名，并非与实际插槽代号有关，因此设备文件名如下：</p> <ol><li>SATA1插槽上的文件名：/dev/sda</li> <li>SATA5插槽上的文件名：/dev/sdb</li> <li>USB磁盘(开机完成后才被系统捉到)：/dev/sdc</li></ol> <h3 id="msdos-mbr-分区表格式与限制"><a href="#msdos-mbr-分区表格式与限制" aria-hidden="true" class="header-anchor">#</a> MSDOS (MBR) 分区表格式与限制</h3> <ul><li>主要开机记录区(Master Boot Record, MBR)：可以安装开机管理程序的地方，有446 bytes</li> <li>分区表(partition table)：记录整颗硬盘分区的状态，有64 bytes</li></ul> <p>由于分区表所在区块仅有64 bytes容量，因此最多仅能有四组记录区，每组记录区记录了该区段的启始与结束的磁柱号码。 这四个分区的记录被称为主要(Primary)或扩展(Extended)分区。</p> <ul><li>其实所谓的『分区』只是针对那个64 bytes的分区表进行设定而已！</li> <li>硬盘预设的分区表仅能写入四组分区信息</li> <li>这四组分区信息我们称为主要(Primary)或扩展(Extended)分区</li> <li>分区的最小单位『通常』为磁柱(cylinder)</li> <li>当系统要写入磁盘时，一定会参考磁盘分区表，才能针对某个分区进行资料的处理</li></ul> <p>在Windows/Linux系统中，我们通过扩展分区(Extended)的方式来处理更多的分区！扩展分区的想法是：利用额外的磁区来记录更多的分区信息，扩展分区并不是只占一个区块，而是分布在每个分区的最前面几个磁区来记载分区信息！由扩展分区继续切出来的分区，就被称为逻辑分区(logical partition)。逻辑分区的设备名称号码一般由5号开始，前4个是主分区或者扩展分区。</p> <p>MBR 主分区、扩展分区与逻辑分区的特性：</p> <ul><li>主要分区与扩展分区最多可以有四个(硬盘的限制)；</li> <li>扩展分区最多只能有一个(操作系统的限制)；</li> <li>逻辑分区是由扩展分区持续切割出来的分区；</li> <li>能够被格式化后，作为资料存取的分区为主要分区与逻辑分区。扩展分区无法格式化；</li> <li>逻辑分区的数量依操作系统而不同，在Linux系统中SATA硬盘已经可以突破63个以上的分区限制。</li></ul> <p><strong>如果扩展分区被破坏，所有逻辑分区将会被删除。</strong></p> <h3 id="guid-partition-table-gpt磁盘分区表"><a href="#guid-partition-table-gpt磁盘分区表" aria-hidden="true" class="header-anchor">#</a> GUID partition table, GPT磁盘分区表</h3> <p>因为过去一个磁区大小就是512bytes 而已，不过目前已经有4K 的磁区设计出现！为了相容于所有的磁盘，因此在磁区的定义上面， 大多会使用所谓的逻辑区块位址(Logical Block Address, LBA)来处理。GPT 将磁盘所有区块以此LBA(预设为512bytes ！) 来规划，而第一个 LBA 称为LBA0 (从0 开始编号)。</p> <p>与MBR仅使用第一个512bytes区块来纪录不同， GPT使用了34个LBA区块来纪录分区信息！同时与过去MBR仅有一的区块，被干掉就死光光的情况不同， GPT除了前面34个LBA之外，整个磁盘的最后33个LBA也拿来作为另一个备份！详细的结构有点像底下的模样：
<img src="http://linux.vbird.org/linux_basic/0130designlinux/gpt_partition_1.jpg" alt="GPT 分区表的结构示意图"></p> <p><strong>LBA0 (MBR 相容区块)</strong>
与MBR模式相似的，这个相容区块也分为两个部份，一个就是跟之前446 bytes相似的区块，储存了第一阶段的开机管理程序！而在原本的分区表的纪录区内，这个相容模式仅放入一个特殊标志的分区，用来表示此磁盘为GPT格式之意。而不懂GPT分区表的磁盘管理程序，就不会认识这颗磁盘，除非用户有特别要求要处理这颗磁盘，否则该管理软件不能修改此分区信息，进一步保护了此磁盘喔！</p> <p><strong>LBA1 (GPT 表头纪录)</strong>
这个部份纪录了分区表本身的位置与大小，同时纪录了备份用的GPT 分区(就是前面谈到的在最后34 个LBA 区块) 放置的位置， 同时放置了分区表的检验机制码(CRC32 )，操作系统可以根据这个检验码来判断GPT 是否正确。若有错误，还可以透过这个纪录区来取得备份的GPT(磁盘最后的那个备份区块) 来恢复GPT 的正常运作！</p> <p><strong>LBA2-33 (实际纪录分区信息处)</strong>
从LBA2区块开始，每个LBA都可以纪录4笔分区纪录，所以在预设的情况下，总共可以有4*32 = 128笔分区纪录喔！因为每个LBA有512bytes，因此每笔纪录用到128 bytes的空间，除了每笔纪录所需要的识别码与相关的纪录之外，GPT在每笔纪录中分别提供了64bits来记载开始/结束的磁区号码，因此，GPT分区表对于单一分区来说，他的最大容量限制就会在『 2^64 * 512bytes = 2^63 * 1Kbytes = 2^33 *TB = 8 ZB 』，要注意1ZB = 2^30 TB。</p> <p>现在GPT 分区预设可以提供多达128 笔纪录，而在Linux 本身的核心设备纪录中，针对单一磁盘来说，虽然过去最多只能到达15 个分区，不过由于Linux kernel 透过udev 等方式的处理，现在Linux 也已经没有这个限制在了！此外，GPT 分区已经没有所谓的主、扩展、逻辑分区的概念，既然每笔纪录都可以独立存在， 当然每个都可以视为是主分区！每一个分区都可以拿来格式化使用！</p> <h3 id="bios-搭配mbr-gpt-的开机流程"><a href="#bios-搭配mbr-gpt-的开机流程" aria-hidden="true" class="header-anchor">#</a> BIOS 搭配MBR/GPT 的开机流程</h3> <ol><li>BIOS：开机主动执行的固件，会认识第一个可开机的设备；</li> <li>MBR：第一个可开机设备的第一个磁区内的主要开机记录区块，内含开机管理程序；</li> <li>开机管理程序(boot loader)：可读取核心文件来执行的软件；</li> <li>核心文件：开始操作系统的功能...</li></ol> <p>第二点要注意，如果分区表为GPT 格式的话，那么BIOS 也能够从LBA0 的MBR 相容区块读取第一阶段的开机管理程序码， 如果开机管理程序能够认识GPT 的话，那么使用BIOS 同样可以读取到正确的操作系统核心！换句话说， 如果开机管理程序不懂GPT ，例如Windows XP 的环境，那自然就无法读取核心文件，开机就失败了！</p> <p>boot loader的主要任务有：</p> <ul><li>提供选单：使用者可以选择不同的开机项目，这也是多重开机的重要功能！</li> <li>载入核心文件：直接指向可开机的程序区段来开始操作系统；</li> <li>转交其他loader：将开机管理功能转交给其他loader负责。</li></ul> <h3 id="uefi-bios搭配gpt开机的流程"><a href="#uefi-bios搭配gpt开机的流程" aria-hidden="true" class="header-anchor">#</a> UEFI BIOS搭配GPT开机的流程</h3> <p>UEFI(Unified Extensible Firmware Interface，统一可扩展固件接口)主要是想要取代BIOS 这个固件界面。如果开发者够厉害，可以在UEFI 开机阶段就让该系统了解TCP/IP 而直接上网。</p> <table><thead><tr><th style="text-align:left">比较项目</th> <th style="text-align:left">传统BIOS</th> <th style="text-align:left">UEFI</th></tr></thead> <tbody><tr><td style="text-align:left">使用程序语言</td> <td style="text-align:left">组合语言</td> <td style="text-align:left">C语言</td></tr> <tr><td style="text-align:left">硬件资源控制</td> <td style="text-align:left">使用中断(IRQ)管理、不可变的记忆体存取、不可变的输入/输出存取</td> <td style="text-align:left">使用驱动程序与协议</td></tr> <tr><td style="text-align:left">处理器运行环境</td> <td style="text-align:left">16位</td> <td style="text-align:left">CPU保护模式</td></tr> <tr><td style="text-align:left">扩充方式</td> <td style="text-align:left">通过IRQ连结</td> <td style="text-align:left">直接载入驱动程序</td></tr> <tr><td style="text-align:left">第三方厂商支持</td> <td style="text-align:left">较差</td> <td style="text-align:left">较佳且可支持多平台</td></tr> <tr><td style="text-align:left">图形化能力</td> <td style="text-align:left">较差</td> <td style="text-align:left">较佳</td></tr> <tr><td style="text-align:left">内建简化操作系统前环境</td> <td style="text-align:left">不支持</td> <td style="text-align:left">支持</td></tr></tbody></table> <p>由于过去cracker经常藉由BIOS开机阶段来破坏系统，并取得系统的控制权，因此UEFI加入了一个所谓的安全启动(secure boot)机制，这个机制代表着即将开机的操作系统必须要被UEFI所验证，否则就无法顺利开机！微软用了很多这样的机制来管理硬件。不过加入这个机制后，许多的操作系统，包括Linux ，就很有可能无法顺利开机！所以，某些时刻，可能得要将UEFI的secure boot功能关闭，才能够顺利的进入Linux。</p> <h3 id="linux安装模式下，磁盘分区的选择-极重要"><a href="#linux安装模式下，磁盘分区的选择-极重要" aria-hidden="true" class="header-anchor">#</a> Linux安装模式下，磁盘分区的选择(<strong>极重要</strong>)</h3> <h4 id="文件系统与目录树的关系-挂载"><a href="#文件系统与目录树的关系-挂载" aria-hidden="true" class="header-anchor">#</a> 文件系统与目录树的关系(挂载)</h4> <p>所谓的『挂载』就是利用一个目录当成进入点，将磁盘分区的资料放置在该目录下；也就是说，进入该目录就可以读取该分区的意思。这个动作称为『挂载』，那个进入点的目录称为『挂载点』。由于整个Linux系统最重要的是根目录，因此根目录一定需要挂载到某个分区的。</p> <h2 id="重点回顾"><a href="#重点回顾" aria-hidden="true" class="header-anchor">#</a> 重点回顾</h2> <ul><li>在Linux系统中，每个设备都被当成一个文件来对待，每个设备都会有设备文件名。</li> <li>磁盘设备文件名通常分为两种，实际SATA/USB设备文件名为/dev/sd[ap]，而虚拟机的设备可能为/dev/vd[ap]</li> <li>磁盘的第一个磁区主要记录了两个重要的信息，分别是： (1)主要开机记录区(Master Boot Record, MBR)：可以安装开机管理程序的地方，有446 bytes (1)分区表(partition table)：记录整颗硬盘分区的状态，有64 bytes；</li> <li>磁盘的MBR 分区方式中，主要与扩展分区最多可以有四个，逻辑分区的设备文件名号码，一定由5号开始；</li> <li>如果磁盘容量大于2TB 以上时，系统会自动使用GPT 分区方式来处理磁盘分区。</li> <li>GPT 分区已经没有扩展与逻辑分区的概念，所有的分区都是主分区！</li> <li>某些操作系统要使用GPT 分区时，必须要搭配UEFI 的新型BIOS 格式才可安装使用。</li> <li>开机的流程由：BIOS--&gt;MBR--&gt;boot loader--&gt;核心文件；</li> <li>boot loader的功能主要有：提供选单、载入核心、转交控制权给其他loader</li> <li>boot loader可以安装的地点有两个，分别是MBR 与boot sector</li> <li>Linux操作系统的文件使用目录树系统，与磁盘的对应需要有『挂载』的动作才行；</li> <li>新手的简单分区，建议只要有/及swap两个分区即可</li></ul></div> <p class="page-edit">（完）</p> <p class="text-center">欢迎转载分享本文，原创文章请注明出处，谢谢配合!</p> <p class="page-edit"><div class="m-3 ant-tag ant-tag-blue" style="background-color:null;"><a href="/tags/Linux基础">Linux基础</a></div><div class="m-3 ant-tag ant-tag-blue" style="background-color:null;"><a href="/tags/磁盘分区">磁盘分区</a></div></p> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">8/13/2018, 5:20:00 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
            ←
            <a href="/work/鸟哥Linux基础-基础指令和帮助.html" class="prev">
              鸟哥Linux基础-基础指令和帮助
            </a></span> <span class="next"><a href="/work/EMCAScript6入门学习-5-Module.html">
            EMCAScript6入门学习-5 Module
          </a>
          →
        </span></p></div> <div id="comments"></div> </div> <!----> <!----></div></div></div>
    <script src="/assets/js/58.244520da.js" defer></script><script src="/assets/js/app.2d955dbb.js" defer></script>
  </body>
</html>
