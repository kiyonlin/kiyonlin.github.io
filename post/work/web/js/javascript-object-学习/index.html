<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Javascript Object 学习 - Tsing Wind - 清风徐来 水波不兴</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Kiyon Lin" />
  <meta name="description" content="原文MDN Object.assign() 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。 语法 Object.assign(target, ...sources) 参数 target 目标对象。 sources 任意多个源对象。 返回值 目标对象会被" />

  <meta name="keywords" content="Hugo, theme, kiyon, kiyonlin" />






<meta name="generator" content="Hugo 0.72.0" />


<link rel="canonical" href="https://kiyonlin.github.io/post/work/web/js/javascript-object-%E5%AD%A6%E4%B9%A0/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/kiyon.min.fa3d941d1d0e0ddc985804227feabffea55c89883eb0af34e0532a7ae9135151.css" integrity="sha256-&#43;j2UHR0ODdyYWAQif&#43;q//qVciYg&#43;sK804FMqeukTUVE=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Javascript Object 学习" />
<meta property="og:description" content="原文MDN Object.assign() 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。 语法 Object.assign(target, ...sources) 参数 target 目标对象。 sources 任意多个源对象。 返回值 目标对象会被" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kiyonlin.github.io/post/work/web/js/javascript-object-%E5%AD%A6%E4%B9%A0/" />
<meta property="article:published_time" content="2017-02-16T08:59:17+00:00" />
<meta property="article:modified_time" content="2017-02-16T08:59:17+00:00" />
<meta itemprop="name" content="Javascript Object 学习">
<meta itemprop="description" content="原文MDN Object.assign() 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。 语法 Object.assign(target, ...sources) 参数 target 目标对象。 sources 任意多个源对象。 返回值 目标对象会被">
<meta itemprop="datePublished" content="2017-02-16T08:59:17&#43;00:00" />
<meta itemprop="dateModified" content="2017-02-16T08:59:17&#43;00:00" />
<meta itemprop="wordCount" content="7014">



<meta itemprop="keywords" content="javascript,object," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Javascript Object 学习"/>
<meta name="twitter:description" content="原文MDN Object.assign() 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。 语法 Object.assign(target, ...sources) 参数 target 目标对象。 sources 任意多个源对象。 返回值 目标对象会被"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Tsing Wind</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://kiyonlin.github.io/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://kiyonlin.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://kiyonlin.github.io/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://github.com/kiyonlin" rel="noopener" target="_blank">
              Github
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Tsing Wind
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://kiyonlin.github.io/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://kiyonlin.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://kiyonlin.github.io/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://github.com/kiyonlin" rel="noopener" target="_blank">
              Github
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Javascript Object 学习</h1>
      
      <div class="post-meta">
        <time datetime="2017-02-16" class="post-time">
          2017-02-16
        </time>
        <div class="post-category">
            <a href="https://kiyonlin.github.io/categories/web/"> web </a>
            <a href="https://kiyonlin.github.io/categories/javascript/"> javascript </a>
            
          </div>
        <span class="more-meta"> 约 7014 字 </span>
          <span class="more-meta"> 预计阅读 14 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#objectassign">Object.assign()</a>
      <ul>
        <li><a href="#语法">语法</a></li>
        <li><a href="#参数">参数</a></li>
        <li><a href="#返回值">返回值</a></li>
        <li><a href="#描述">描述</a></li>
        <li><a href="#示例">示例</a></li>
      </ul>
    </li>
    <li><a href="#objectcreate">Object.create()</a>
      <ul>
        <li><a href="#语法-1">语法</a></li>
        <li><a href="#参数-1">参数</a></li>
        <li><a href="#抛出异常">抛出异常</a></li>
        <li><a href="#例子">例子</a></li>
      </ul>
    </li>
    <li><a href="#objectdefineproperty">Object.defineProperty()</a>
      <ul>
        <li><a href="#语法-2">语法</a></li>
        <li><a href="#参数-2">参数</a></li>
        <li><a href="#返回值-1">返回值</a></li>
        <li><a href="#描述-1">描述</a></li>
        <li><a href="#示例-1">示例</a></li>
      </ul>
    </li>
    <li><a href="#objectdefineproperties">Object.defineProperties()</a>
      <ul>
        <li><a href="#语法-3">语法</a></li>
        <li><a href="#参数-3">参数</a></li>
        <li><a href="#例子-1">例子</a></li>
      </ul>
    </li>
    <li><a href="#objectfreeze">Object.freeze()</a>
      <ul>
        <li><a href="#语法-4">语法</a></li>
        <li><a href="#参数-4">参数</a></li>
        <li><a href="#返回值-2">返回值</a></li>
        <li><a href="#描述-2">描述</a></li>
        <li><a href="#例子-2">例子</a></li>
      </ul>
    </li>
    <li><a href="#objectgetownpropertydescriptor">Object.getOwnPropertyDescriptor()</a>
      <ul>
        <li><a href="#语法-5">语法</a></li>
        <li><a href="#参数-5">参数</a></li>
        <li><a href="#返回值-3">返回值</a></li>
        <li><a href="#描述-3">描述</a></li>
      </ul>
    </li>
    <li><a href="#objectisextensible">Object.isExtensible()</a>
      <ul>
        <li><a href="#语法-6">语法</a></li>
        <li><a href="#参数-6">参数</a></li>
        <li><a href="#描述-4">描述</a></li>
        <li><a href="#例子-3">例子</a></li>
      </ul>
    </li>
    <li><a href="#objectseal">Object.seal()</a>
      <ul>
        <li><a href="#语法-7">语法</a></li>
        <li><a href="#参数-7">参数</a></li>
        <li><a href="#描述-5">描述</a></li>
        <li><a href="#例子-4">例子</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>原文<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object">MDN</a></p>
<h2 id="objectassign">Object.assign()</h2>
<p>把任意多个的<strong>源对象自身</strong>的<strong>可枚举属性</strong>拷贝给目标对象，然后返回目标对象。</p>
<h3 id="语法">语法</h3>
<p><code>Object.assign(target, ...sources)</code></p>
<h3 id="参数">参数</h3>
<ul>
<li>target
目标对象。</li>
<li>sources
任意多个源对象。</li>
</ul>
<h3 id="返回值">返回值</h3>
<p>目标对象会被返回。</p>
<h3 id="描述">描述</h3>
<p><code>Object.assign</code> 方法只会拷贝源对象自身的并且可枚举的属性到目标对象身上。该方法使用源对象的 <code>[ [ Get ] ]</code> 和目标对象的 <code>[ [ Set ] ]</code>，所以它会调用相关 <code>getter</code> 和 <code>setter</code>。因此，它分配属性而不是复制或定义新的属性。如果合并源包含了 <code>getter</code>，那么该方法就不适合将新属性合并到原型里。假如是拷贝属性定义到原型里，包括它们的可枚举性，那么应该使用 <code>Object.getOwnPropertyDescriptor()</code> 和 <code>Object.defineProperty()</code> 。</p>
<p><code>String</code>类型和 <code>Symbol</code> 类型的属性都会被拷贝。</p>
<p>注意，在属性拷贝过程中可能会产生异常，比如目标对象的某个只读属性和源对象的某个属性同名，这时该方法会抛出一个 <code>TypeError</code> 异常，拷贝过程中断，已经拷贝成功的属性不会受到影响，还未拷贝的属性将不会再被拷贝。</p>
<p>注意， <code>Object.assign</code> 会跳过那些值为 <code>null</code> 或 <code>undefined</code> 的源对象。</p>
<h3 id="示例">示例</h3>
<h4 id="深度拷贝问题">深度拷贝问题</h4>
<p>假如需要深度拷贝的话，仍旧需要使用别的方法。因为 <code>Object.assign()</code> 拷贝的是在 <code>source</code> 里是对象的属性的引用而不是对象本身。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">test</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">b</span><span class="o">:</span> <span class="p">{</span><span class="nx">c</span><span class="o">:</span><span class="mi">4</span><span class="p">}</span> <span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="p">{</span> <span class="nx">e</span><span class="o">:</span> <span class="p">{</span><span class="nx">f</span><span class="o">:</span><span class="mi">1</span><span class="p">}}</span> <span class="p">}</span>
  <span class="c1">// 浅拷贝
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">g</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span><span class="nx">a</span><span class="p">)</span>
  <span class="c1">// 深拷贝
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">a</span><span class="p">));</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">d</span><span class="p">)</span> <span class="c1">// { e: { f: 1 } }
</span><span class="c1"></span>  <span class="nx">g</span><span class="p">.</span><span class="nx">d</span><span class="p">.</span><span class="nx">e</span> <span class="o">=</span> <span class="mi">32</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;g.d.e set to 32.&#39;</span><span class="p">)</span> <span class="c1">// g.d.e set to 32.
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span> <span class="c1">// { b: { c: 4 }, d: { e: 32 } }
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="c1">// { b: { c: 4 }, d: { e: 32 } }
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span> <span class="c1">// { b: { c: 4 }, d: { e: { f: 1 } } }
</span><span class="c1"></span>  <span class="nx">h</span><span class="p">.</span><span class="nx">d</span><span class="p">.</span><span class="nx">e</span> <span class="o">=</span> <span class="mi">54</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;h.d.e set to 54.&#39;</span><span class="p">)</span> <span class="c1">// h.d.e set to 54.
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span> <span class="c1">// { b: { c: 4 }, d: { e: 32 } }
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="c1">// { b: { c: 4 }, d: { e: 32 } }
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span> <span class="c1">// { b: { c: 4 }, d: { e: 54 } }
</span><span class="c1"></span><span class="p">}</span>
<span class="nx">test</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="合并-objects">合并 objects</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o1</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">o2</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">o3</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">o1</span><span class="p">,</span> <span class="nx">o2</span><span class="p">,</span> <span class="nx">o3</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span> <span class="c1">// { a: 1, b: 2, c: 3 }
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o1</span><span class="p">);</span>  <span class="c1">// { a: 1, b: 2, c: 3 }, 注意目标对象自身也会改变。
</span></code></pre></td></tr></table>
</div>
</div><h4 id="拷贝-symbol-类型的属性">拷贝 symbol 类型的属性</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o1</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">o2</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="nx">Symbol</span><span class="p">(</span><span class="s2">&#34;foo&#34;</span><span class="p">)]</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">o1</span><span class="p">,</span> <span class="nx">o2</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span> <span class="c1">// { a: 1, [Symbol(&#34;foo&#34;)]: 2 }
</span></code></pre></td></tr></table>
</div>
</div><h4 id="继承属性和不可枚举属性是不能拷贝的">继承属性和不可枚举属性是不能拷贝的</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span> <span class="c1">// foo 是个继承属性。
</span><span class="c1"></span>    <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">value</span><span class="o">:</span> <span class="mi">2</span>  <span class="c1">// bar 是个不可枚举属性。
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">value</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span>  <span class="c1">// baz 是个自身可枚举属性。
</span><span class="c1"></span>    <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">copy</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">obj</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">copy</span><span class="p">);</span> <span class="c1">// { baz: 3 }
</span></code></pre></td></tr></table>
</div>
</div><h4 id="原始类型会被包装为-object">原始类型会被包装为 object</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">v1</span> <span class="o">=</span> <span class="s2">&#34;abc&#34;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">v2</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">v3</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">v4</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">&#34;foo&#34;</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">v1</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">v2</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">v3</span><span class="p">,</span> <span class="nx">v4</span><span class="p">);</span>
<span class="c1">// 原始类型会被包装，null 和 undefined 会被忽略。
</span><span class="c1">// 注意，只有字符串的包装对象才可能有自身可枚举属性。
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span> <span class="c1">// { &#34;0&#34;: &#34;a&#34;, &#34;1&#34;: &#34;b&#34;, &#34;2&#34;: &#34;c&#34; }
</span></code></pre></td></tr></table>
</div>
</div><h4 id="异常会打断接下来的拷贝任务">异常会打断接下来的拷贝任务</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">({},</span> <span class="s2">&#34;foo&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">writable</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">});</span> <span class="c1">// target 的 foo 属性是个只读属性。
</span><span class="c1"></span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="nx">foo2</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">foo</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">foo3</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="nx">baz</span><span class="o">:</span> <span class="mi">4</span><span class="p">});</span>
<span class="c1">// TypeError: &#34;foo&#34; is read-only
</span><span class="c1">// 注意这个异常是在拷贝第二个源对象的第二个属性时发生的。
</span><span class="c1"></span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">bar</span><span class="p">);</span>  <span class="c1">// 2，说明第一个源对象拷贝成功了。
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">foo2</span><span class="p">);</span> <span class="c1">// 3，说明第二个源对象的第一个属性也拷贝成功了。
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">foo</span><span class="p">);</span>  <span class="c1">// 1，只读属性不能被覆盖，所以第二个源对象的第二个属性拷贝失败了。
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">foo3</span><span class="p">);</span> <span class="c1">// undefined，异常之后 assign 方法就退出了，第三个属性是不会被拷贝到的。
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">baz</span><span class="p">);</span>  <span class="c1">// undefined，第三个源对象更是不会被拷贝到的。
</span></code></pre></td></tr></table>
</div>
</div><h4 id="拷贝访问器accessor">拷贝访问器（accessor）</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">get</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">copy</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">obj</span><span class="p">);</span>
<span class="c1">// { foo: 1, bar: 2 }
</span><span class="c1">// copy.bar的值来自obj.bar的getter函数的返回值
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">copy</span><span class="p">);</span>

<span class="c1">// 下面这个函数会拷贝所有自有属性的属性描述符
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">completeAssign</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="p">...</span><span class="nx">sources</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">sources</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">source</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">descriptors</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">source</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">descriptors</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">descriptors</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">descriptors</span><span class="p">;</span>
    <span class="p">},</span> <span class="p">{});</span>

    <span class="c1">// Object.assign 默认也会拷贝可枚举的Symbols
</span><span class="c1"></span>    <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertySymbols</span><span class="p">(</span><span class="nx">source</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">sym</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">descriptor</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">sym</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">descriptor</span><span class="p">.</span><span class="nx">enumerable</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">descriptors</span><span class="p">[</span><span class="nx">sym</span><span class="p">]</span> <span class="o">=</span> <span class="nx">descriptor</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">descriptors</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">target</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">copy</span> <span class="o">=</span> <span class="nx">completeAssign</span><span class="p">({},</span> <span class="nx">obj</span><span class="p">);</span>
<span class="c1">// { foo:1, get bar() { return 2 } }
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">copy</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="objectcreate">Object.create()</h2>
<p>创建一个拥有指定原型和若干个指定属性的对象。</p>
<h3 id="语法-1">语法</h3>
<p><code>Object.create(proto, [ propertiesObject ])</code></p>
<h3 id="参数-1">参数</h3>
<ul>
<li>proto
一个对象，作为新创建对象的原型。或者为 null。</li>
<li>propertiesObject
可选。该参数对象是一组属性与值，该对象的属性名称将是新创建的对象的属性名称，值是属性描述符（这些属性描述符的结构与 <code>Object.defineProperties()</code> 的第二个参数一样）。<strong>注意</strong>：该参数对象不能是 <code>undefined</code> ，另外只有该对象中自身拥有的可枚举的属性才有效，也就是说该对象的原型链上属性是无效的。</li>
</ul>
<h3 id="抛出异常">抛出异常</h3>
<p>如果 <code>proto</code> 参数不是 <code>null</code> 或一个对象值，则抛出一个 <code>TypeError</code> 异常。</p>
<h3 id="例子">例子</h3>
<h4 id="使用objectcreate实现类式继承">使用Object.create实现类式继承</h4>
<p>下面的例子演示了如何使用 <code>Object.create()</code> 来实现类式继承。这是一个单继承。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">//Shape - superclass
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">Shape</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Shape</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">move</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="nx">y</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s2">&#34;Shape moved.&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Rectangle - subclass
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">Rectangle</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">Shape</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">//call super constructor.
</span><span class="c1"></span><span class="p">}</span>

<span class="nx">Rectangle</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Shape</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangle</span><span class="p">();</span>

<span class="nx">rect</span> <span class="k">instanceof</span> <span class="nx">Rectangle</span> <span class="c1">//true.
</span><span class="c1"></span><span class="nx">rect</span> <span class="k">instanceof</span> <span class="nx">Shape</span> <span class="c1">//true.
</span><span class="c1"></span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">move</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">//Outputs, &#34;Shape moved.&#34;
</span></code></pre></td></tr></table>
</div>
</div><p>如果希望能继承到多个对象,则可以使用混入的方式。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">MyClass</span><span class="p">()</span> <span class="p">{</span>
     <span class="nx">SuperClass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
     <span class="nx">OtherSuperClass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">SuperClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">//inherit
</span><span class="c1"></span><span class="nx">mixin</span><span class="p">(</span><span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">OtherSuperClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">//mixin
</span><span class="c1"></span>
<span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">myMethod</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// do a thing
</span><span class="c1"></span><span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p><code>mixin</code> 函数会把超类原型上的函数拷贝到子类原型上，这里 <code>mixin</code> 函数没有给出,需要自己实现。</p>
<h4 id="使用objectcreate-的-propertyobject-参数">使用Object.create 的 propertyObject 参数</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span><span class="p">;</span>

<span class="c1">// 创建一个原型为null的空对象
</span><span class="c1"></span><span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>


<span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>
<span class="c1">// 以字面量方式创建的空对象就相当于:
</span><span class="c1"></span><span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>


<span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="p">{</span>
  <span class="c1">// foo会成为所创建对象的数据属性
</span><span class="c1"></span>  <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span> <span class="nx">writable</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span> <span class="nx">configurable</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;hello&#34;</span> <span class="p">},</span>
  <span class="c1">// bar会成为所创建对象的访问器属性
</span><span class="c1"></span>  <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">configurable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">10</span> <span class="p">},</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Setting `o.bar` to&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}})</span>


<span class="kd">function</span> <span class="nx">Constructor</span><span class="p">(){}</span>
<span class="nx">o</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Constructor</span><span class="p">();</span>
<span class="c1">// 上面的一句就相当于:
</span><span class="c1"></span><span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="c1">// 当然,如果在Constructor函数中有一些初始化代码,Object.create不能执行那些代码
</span><span class="c1"></span>

<span class="c1">// 创建一个以另一个空对象为原型,且拥有一个属性p的对象
</span><span class="c1"></span><span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">({},</span> <span class="p">{</span> <span class="nx">p</span><span class="o">:</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">42</span> <span class="p">}</span> <span class="p">})</span>

<span class="c1">// 省略了的属性特性默认为false,所以属性p是不可写,不可枚举,不可配置的:
</span><span class="c1"></span><span class="nx">o</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">24</span>
<span class="nx">o</span><span class="p">.</span><span class="nx">p</span>
<span class="c1">//42
</span><span class="c1"></span>
<span class="nx">o</span><span class="p">.</span><span class="nx">q</span> <span class="o">=</span> <span class="mi">12</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">prop</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">//&#34;q&#34;
</span><span class="c1"></span>
<span class="k">delete</span> <span class="nx">o</span><span class="p">.</span><span class="nx">p</span>
<span class="c1">//false
</span><span class="c1"></span>
<span class="c1">//创建一个可写的,可枚举的,可配置的属性p
</span><span class="c1"></span><span class="nx">o2</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">({},</span> <span class="p">{</span> <span class="nx">p</span><span class="o">:</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span> <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="objectdefineproperty">Object.defineProperty()</h2>
<p>在一个对象上定义一个新属性，或者修改一个已经存在的属性， 并返回这个对象。</p>
<h3 id="语法-2">语法</h3>
<p><code>Object.defineProperty(obj, prop, descriptor)</code></p>
<h3 id="参数-2">参数</h3>
<ul>
<li>obj
需要定义属性的对象。</li>
<li>prop
需定义或修改的属性的名字。</li>
<li>descriptor
将被定义或修改的属性的描述符。</li>
</ul>
<h3 id="返回值-1">返回值</h3>
<p>返回传入函数的对象，即第一个参数 <code>obj</code></p>
<h3 id="描述-1">描述</h3>
<p>该方法允许精确添加或修改对象的属性。一般情况下，我们为对象添加属性是通过赋值来创建并显示在属性枚举中（<code>for...in</code> 或 <code>Object.keys</code> 方法）， 但这种方式添加的属性值可以被改变，也可以被删除。而使用 <code>Object.defineProperty()</code> 则允许改变这些额外细节的默认设置。例如，默认情况下，使用  <code>Object.defineProperty()</code> 增加的属性值是不可改变的。</p>
<p>对象里目前存在的属性描述符有两种主要形式：数据描述符和存取描述符。数据描述符是一个拥有可写或不可写值的属性。存取描述符是由一对 <code>getter-setter</code> 函数功能来描述的属性。描述符必须是两种形式之一；不能同时是两者。</p>
<p>数据描述符和存取描述符均具有以下可选键值：</p>
<ul>
<li>configurable
当且仅当该属性的 <code>configurable</code> 为 <code>true</code> 时，该属性描述符才能够被改变，也能够被删除。默认为 <code>false</code>。</li>
<li>enumerable
当且仅当该属性的 <code>enumerable</code> 为 <code>true</code> 时，该属性才能够出现在对象的枚举属性中。默认为 <code>false</code>。</li>
</ul>
<p>数据描述符同时具有以下可选键值：</p>
<ul>
<li>value
该属性对应的值。可以是任何有效的 <code>JavaScript</code> 值（数值，对象，函数等）。默认为 <code>undefined</code>。</li>
<li>writable
当且仅当该属性的 <code>writable</code> 为 <code>true</code> 时，该属性才能被赋值运算符改变。默认为 <code>false</code>。</li>
</ul>
<p>存取描述符同时具有以下可选键值：</p>
<ul>
<li>get
一个给属性提供 <code>getter</code> 的方法，如果没有 <code>getter</code> 则为 <code>undefined</code>。该方法返回值被用作属性值。默认为 <code>undefined</code>。</li>
<li>set
一个给属性提供 <code>setter</code> 的方法，如果没有 <code>setter</code> 则为 <code>undefined</code>。该方法将接受唯一参数，并将该参数的新值分配给该属性。默认为 <code>undefined</code>。</li>
</ul>
<p>记住，这些选项不一定是自身属性，如果是继承来的也要考虑。为了确认保留这些默认值，可能要在这之前冻结 <code>Object.prototype</code> ，明确指定所有的选项，或者将 <code>__proto__</code> 属性指向 <code>null</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// 使用 __proto__
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;key&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">__proto__</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="c1">// 没有继承的属性
</span><span class="c1"></span>  <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;static&#34;</span>  <span class="c1">// 没有 enumerable
</span><span class="c1"></span>                   <span class="c1">// 没有 configurable
</span><span class="c1"></span>                   <span class="c1">// 没有 writable
</span><span class="c1"></span>                   <span class="c1">// 作为默认值
</span><span class="c1"></span><span class="p">});</span>

<span class="c1">// 显式
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;key&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">configurable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">writable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;static&#34;</span>
<span class="p">});</span>

<span class="c1">// 循环使用同一对象
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">withValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">withValue</span><span class="p">.</span><span class="nx">d</span> <span class="o">||</span> <span class="p">(</span>
    <span class="nx">withValue</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">writable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">configurable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">value</span><span class="o">:</span> <span class="kc">null</span>
    <span class="p">}</span>
  <span class="p">);</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">d</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// ... 并且 ...
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;key&#34;</span><span class="p">,</span> <span class="nx">withValue</span><span class="p">(</span><span class="s2">&#34;static&#34;</span><span class="p">));</span>

<span class="c1">// 如果 freeze 可用, 防止代码添加或删除对象原型的属性
</span><span class="c1">// （value, get, set, enumerable, writable, configurable）
</span><span class="c1"></span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="o">||</span><span class="nb">Object</span><span class="p">)(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="示例-1">示例</h3>
<p>###创建属性</p>
<p>如果对象中不存在指定的属性，<code>Object.defineProperty()</code> 就创建这个属性。当描述符中省略某些字段时，这些字段将使用它们的默认值。拥有布尔值的字段的默认值都是 <code>false</code>。<code>value</code>，<code>get</code> 和 <code>set</code> 字段的默认值为 <code>undefined</code>。定义属性时如果没有 <code>get/set/value/writable</code>，那它被归类为数据描述符。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 创建一个新对象
</span><span class="c1"></span>
<span class="c1">// Example of an object property added with defineProperty with a data property descriptor
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">value</span> <span class="o">:</span> <span class="mi">37</span><span class="p">,</span>
                               <span class="nx">writable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                               <span class="nx">enumerable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                               <span class="nx">configurable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="c1">// 对象o拥有了属性a，值为37
</span><span class="c1"></span>
<span class="c1">// Example of an object property added with defineProperty with an accessor property descriptor
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">bValue</span><span class="p">;</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">get</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="nx">bValue</span><span class="p">;</span> <span class="p">},</span>
                               <span class="nx">set</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">){</span> <span class="nx">bValue</span> <span class="o">=</span> <span class="nx">newValue</span><span class="p">;</span> <span class="p">},</span>
                               <span class="nx">enumerable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                               <span class="nx">configurable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="nx">o</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">38</span><span class="p">;</span>
<span class="c1">// 对象o拥有了属性b，值为38
</span><span class="c1"></span>
<span class="c1">// The value of o.b is now always identical to bValue, unless o.b is redefined
</span><span class="c1"></span>
<span class="c1">// 数据描述符和存取描述符不能混合使用
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;conflict&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mh">0x9f91102</span><span class="p">,</span>
                                       <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mh">0xdeadbeef</span><span class="p">;</span> <span class="p">}</span> <span class="p">});</span>
<span class="c1">// throws a TypeError: value appears only in data descriptors, get appears only in accessor descriptors
</span></code></pre></td></tr></table>
</div>
</div><h4 id="修改属性">修改属性</h4>
<p>如果属性已经存在，<code>Object.defineProperty()</code> 将尝试根据描述符中的值以及对象当前的配置来修改这个属性。如果描述符的 <code>configurable</code> 特性为 <code>false</code>（即该特性为 <code>non-configurable</code>），那么除了 <code>writable</code> 外，其他特性都不能被修改，并且数据和存取描述符也不能相互切换。</p>
<p>如果一个属性的 <code>configurable</code> 为 <code>false</code>，则其 <code>writable</code> 特性也只能修改为 <code>false</code>。</p>
<p>如果尝试修改 <code>non-configurable</code> 属性特性（除 <code>writable</code> 以外），将会产生一个 <code>TypeError</code> 异常，除非当前值与修改值相同。</p>
<h5 id="writable-属性">Writable 属性</h5>
<p>当属性特性（<code>property attribute</code>） <code>writable</code> 设置为 <code>false</code> 时，表示 <code>non-writable</code>，属性不能被修改。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 创建一个新对象
</span><span class="c1"></span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">:</span> <span class="mi">37</span><span class="p">,</span>
                                <span class="nx">writable</span> <span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// 打印 37
</span><span class="c1"></span><span class="nx">o</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span> <span class="c1">// 没有错误抛出（在严格模式下会抛出，即使之前已经有相同的值）
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// 打印 37， 赋值不起作用。
</span></code></pre></td></tr></table>
</div>
</div><h5 id="enumerable-特性">Enumerable 特性</h5>
<p>属性特性 <code>enumerable</code> 定义了对象的属性是否可以在 <code>for...in</code> 循环和 <code>Object.keys()</code> 中被枚举。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">enumerable</span><span class="o">:</span><span class="kc">true</span> <span class="p">});</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">enumerable</span><span class="o">:</span><span class="kc">false</span> <span class="p">});</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">:</span> <span class="mi">3</span> <span class="p">});</span> <span class="c1">// enumerable defaults to false
</span><span class="c1"></span><span class="nx">o</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// 如果使用直接赋值的方式创建对象的属性，则这个属性的enumerable为true
</span><span class="c1"></span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 打印 &#39;a&#39; 和 &#39;d&#39; (in undefined order)
</span><span class="c1"></span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span> <span class="c1">// [&#34;a&#34;, &#34;d&#34;]
</span><span class="c1"></span>
<span class="nx">o</span><span class="p">.</span><span class="nx">propertyIsEnumerable</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span> <span class="c1">// true
</span><span class="c1"></span><span class="nx">o</span><span class="p">.</span><span class="nx">propertyIsEnumerable</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">);</span> <span class="c1">// false
</span><span class="c1"></span><span class="nx">o</span><span class="p">.</span><span class="nx">propertyIsEnumerable</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">);</span> <span class="c1">// false
</span></code></pre></td></tr></table>
</div>
</div><h5 id="configurable-特性">Configurable 特性</h5>
<p><code>configurable</code> 特性表示对象的属性是否可以被删除，以及除 <code>writable</code> 特性外的其他特性是否可以被修改。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">get</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="mi">1</span><span class="p">;},</span>
                                <span class="nx">configurable</span> <span class="o">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">);</span>

<span class="c1">// throws a TypeError
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">configurable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="c1">// throws a TypeError
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">enumerable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="c1">// throws a TypeError (之前未设置)
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">set</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){}});</span>

<span class="c1">// throws a TypeError (即使get方法完全一样)
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">get</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="mi">1</span><span class="p">;}});</span>

<span class="c1">// throws a TypeError
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">value</span> <span class="o">:</span> <span class="mi">12</span><span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// logs 1
</span><span class="c1"></span><span class="k">delete</span> <span class="nx">o</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// Nothing happens
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// logs 1
</span></code></pre></td></tr></table>
</div>
</div><h4 id="添加多个属性和默认值">添加多个属性和默认值</h4>
<p>考虑特性被赋予的默认特性值非常重要，通常，使用点运算符和 <code>Object.defineProperty()</code>为对象的属性赋值时，数据描述符中的属性默认值是不同的，如下例所示。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">o</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">// 等同于 :
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">value</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">writable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">configurable</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">enumerable</span> <span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>


<span class="c1">// 另一方面，
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">});</span>
<span class="c1">// 等同于 :
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">value</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">writable</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">configurable</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">enumerable</span> <span class="o">:</span> <span class="kc">false</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="一般的-setters-和-getters">一般的 Setters 和 Getters</h4>
<p>下面的例子说明了如何实现自我存档的对象。当 <code>temperature</code> 属性设置时，<code>archive</code> 数组会得到一个 <code>log</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Archiver</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">temperature</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">archive</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;get!&#39;</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">temperature</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">temperature</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
      <span class="nx">archive</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">val</span><span class="o">:</span> <span class="nx">temperature</span> <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">getArchive</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">archive</span><span class="p">;</span> <span class="p">};</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">arc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Archiver</span><span class="p">();</span>
<span class="nx">arc</span><span class="p">.</span><span class="nx">temperature</span><span class="p">;</span> <span class="c1">// &#39;get!&#39;
</span><span class="c1"></span><span class="nx">arc</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
<span class="nx">arc</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">=</span> <span class="mi">13</span><span class="p">;</span>
<span class="nx">arc</span><span class="p">.</span><span class="nx">getArchive</span><span class="p">();</span> <span class="c1">// [{ val: 11 }, { val: 13 }]
</span></code></pre></td></tr></table>
</div>
</div><p>另一个例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">pattern</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;I alway return this string,whatever you have assigned&#39;</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">myname</span> <span class="o">=</span> <span class="s1">&#39;this is my name string&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>


<span class="kd">function</span> <span class="nx">TestDefineSetAndGet</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s1">&#39;myproperty&#39;</span><span class="p">,</span> <span class="nx">pattern</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">var</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TestDefineSetAndGet</span><span class="p">();</span>
<span class="nx">instance</span><span class="p">.</span><span class="nx">myproperty</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span><span class="p">;</span>

<span class="c1">// &#39;I alway return this string,whatever you have assigned&#39;
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">myproperty</span><span class="p">);</span>

<span class="c1">// &#39;this is my name string&#39;
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">myname</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="objectdefineproperties">Object.defineProperties()</h2>
<p>在一个对象上添加或修改一个或者多个自有属性，并返回该对象。</p>
<h3 id="语法-3">语法</h3>
<p><code>Object.defineProperties(obj, props)</code></p>
<h3 id="参数-3">参数</h3>
<ul>
<li>obj
将要被添加属性或修改属性的对象</li>
<li>props
该对象的一个或多个键值对定义了将要为对象添加或修改的属性的具体配置</li>
</ul>
<h3 id="例子-1">例子</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span>
  <span class="s2">&#34;property1&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s2">&#34;property2&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;Hello&#34;</span><span class="p">,</span>
    <span class="nx">writable</span><span class="o">:</span> <span class="kc">false</span>
  <span class="p">}</span>
  <span class="c1">// 等等.
</span><span class="c1"></span><span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">property2</span><span class="p">)</span> <span class="c1">//弹出&#34;Hello&#34;
</span></code></pre></td></tr></table>
</div>
</div><h2 id="objectfreeze">Object.freeze()</h2>
<p>冻结一个对象，冻结指的是<strong>不能向这个对象添加新的属性，不能修改其已有属性的值，不能删除已有属性，以及不能修改该对象已有属性的可枚举性、可配置性、可写性</strong>。也就是说，这个对象永远是不可变的。该方法返回被冻结的对象。</p>
<h3 id="语法-4">语法</h3>
<p>Object.freeze(obj)</p>
<h3 id="参数-4">参数</h3>
<ul>
<li>obj
将要被冻结的对象</li>
</ul>
<h3 id="返回值-2">返回值</h3>
<p>被冻结的对象。</p>
<h3 id="描述-2">描述</h3>
<p>冻结对象的所有自身属性<strong>都不可能以任何方式被修改</strong>。任何尝试修改该对象的操作都会失败，可能是静默失败，也可能会抛出异常（严格模式中）。</p>
<p>数据属性的值不可更改，访问器属性（有getter和setter）也同样（但由于是函数调用，给人的错觉是还是可以修改这个属性）。<strong>如果一个属性的值是个对象，则这个对象中的属性是可以修改的，除非它也是个冻结对象</strong>。</p>
<h3 id="例子-2">例子</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">prop</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(){},</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="s2">&#34;bar&#34;</span>
<span class="p">};</span>

<span class="c1">// 可以添加新的属性,已有的属性可以被修改或删除
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&#34;baz&#34;</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">lumpy</span> <span class="o">=</span> <span class="s2">&#34;woof&#34;</span><span class="p">;</span>
<span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">prop</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="nx">assert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isFrozen</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="kc">true</span><span class="p">);</span>

<span class="c1">// 现在任何修改操作都会失败
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&#34;quux&#34;</span><span class="p">;</span> <span class="c1">// 静默失败
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">quaxxor</span> <span class="o">=</span> <span class="s2">&#34;the friendly duck&#34;</span><span class="p">;</span> <span class="c1">// 静默失败,并没有成功添加上新的属性
</span><span class="c1"></span>
<span class="c1">// ...在严格模式中会抛出TypeError异常
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">fail</span><span class="p">(){</span>
  <span class="s2">&#34;use strict&#34;</span><span class="p">;</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&#34;sparky&#34;</span><span class="p">;</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span>  <span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">quaxxor</span><span class="p">;</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">sparky</span> <span class="o">=</span> <span class="s2">&#34;arf&#34;</span><span class="p">;</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span><span class="p">}</span>

<span class="nx">fail</span><span class="p">();</span>

<span class="c1">// 使用Object.defineProperty方法同样会抛出TypeError异常
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;ohai&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">17</span> <span class="p">});</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;foo&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;eit&#34;</span> <span class="p">});</span> <span class="c1">// 抛出TypeError异常
</span></code></pre></td></tr></table>
</div>
</div><p>下面的例子演示了一个冻结对象中的非冻结对象是可以被修改的（浅冻结）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">internal</span> <span class="o">:</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">internal</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s2">&#34;aValue&#34;</span><span class="p">;</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">internal</span><span class="p">.</span><span class="nx">a</span> <span class="c1">// &#34;aValue&#34;
</span><span class="c1"></span>
<span class="c1">// 想让一个对象变的完全冻结,冻结所有对象中的对象,我们可以使用下面的函数.
</span><span class="c1"></span>
<span class="kd">function</span> <span class="nx">deepFreeze</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">propKey</span><span class="p">;</span>
  <span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span> <span class="c1">// 首先冻结第一层对象.
</span><span class="c1"></span>  <span class="k">for</span> <span class="p">(</span><span class="nx">propKey</span> <span class="k">in</span> <span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">prop</span> <span class="o">=</span> <span class="nx">o</span><span class="p">[</span><span class="nx">propKey</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">o</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">propKey</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">prop</span> <span class="o">===</span> <span class="s2">&#34;object&#34;</span><span class="p">)</span> <span class="o">||</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">isFrozen</span><span class="p">(</span><span class="nx">prop</span><span class="p">))</span> <span class="p">{</span>
      <span class="c1">// 跳过原型链上的属性和已冻结的对象.
</span><span class="c1"></span>      <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">deepFreeze</span><span class="p">(</span><span class="nx">prop</span><span class="p">);</span> <span class="c1">//递归调用.
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">internal</span> <span class="o">:</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="nx">deepFreeze</span><span class="p">(</span><span class="nx">obj2</span><span class="p">);</span>
<span class="nx">obj2</span><span class="p">.</span><span class="nx">internal</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s2">&#34;anotherValue&#34;</span><span class="p">;</span>
<span class="nx">obj2</span><span class="p">.</span><span class="nx">internal</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// undefined
</span></code></pre></td></tr></table>
</div>
</div><h2 id="objectgetownpropertydescriptor">Object.getOwnPropertyDescriptor()</h2>
<p>返回指定对象上一个自有属性对应的属性描述符。（自有属性指的是直接赋予该对象的属性，不需要从原型链上进行查找的属性）</p>
<h3 id="语法-5">语法</h3>
<p><code>Object.getOwnPropertyDescriptor(obj, prop)</code></p>
<h3 id="参数-5">参数</h3>
<ul>
<li>obj
在该对象上查看属性</li>
<li>prop
一个属性名称，该属性的属性描述符将被返回</li>
</ul>
<h3 id="返回值-3">返回值</h3>
<p>如果指定的属性存在于对象上，则返回其属性描述符（property descriptor），否则返回 undefined。</p>
<h3 id="描述-3">描述</h3>
<p>该方法允许对一个属性的描述进行检索。在 <code>Javascript</code> 中， 属性 由一个字符串类型的“名字”（<code>name</code>）和一个“属性描述符”（<code>property descriptor</code>）对象构成。</p>
<p>一个属性描述符是一个对象，由下面属性当中的某些组成的：</p>
<ul>
<li>value
该属性的值(仅针对数据属性描述符有效)</li>
<li>writable
当且仅当属性的值可以被改变时为 <code>true</code>。(仅针对数据属性描述有效)</li>
<li>get
获取该属性的访问器函数（getter）。如果没有访问器， 该值为undefined。(仅针对包含访问器或设置器的属性描述有效)</li>
<li>set
获取该属性的设置器函数（setter）。 如果没有设置器， 该值为undefined。(仅针对包含访问器或设置器的属性描述有效)</li>
<li>configurable
当且仅当指定对象的属性描述可以被改变或者属性可被删除时，为 <code>true</code>。</li>
<li>enumerable
当且仅当指定对象的属性可以被枚举出时，为 <code>true</code>。</li>
</ul>
<p>##示例</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span><span class="p">,</span> <span class="nx">d</span><span class="p">;</span>

<span class="nx">o</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">17</span><span class="p">;</span> <span class="p">}</span> <span class="p">};</span>
<span class="nx">d</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;foo&#34;</span><span class="p">);</span>
<span class="c1">// d is { configurable: true, enumerable: true, get: /*访问器函数*/, set: undefined }
</span><span class="c1"></span>
<span class="nx">o</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
<span class="nx">d</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;bar&#34;</span><span class="p">);</span>
<span class="c1">// d is { configurable: true, enumerable: true, value: 42, writable: true }
</span><span class="c1"></span>
<span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;baz&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">8675309</span><span class="p">,</span> <span class="nx">writable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="nx">d</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s2">&#34;baz&#34;</span><span class="p">);</span>
<span class="c1">// d is { value: 8675309, writable: false, enumerable: false, configurable: false }
</span></code></pre></td></tr></table>
</div>
</div><h2 id="objectisextensible">Object.isExtensible()</h2>
<p>判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）。</p>
<h3 id="语法-6">语法</h3>
<p><code>Object.isExtensible(obj)</code></p>
<h3 id="参数-6">参数</h3>
<ul>
<li>obj
需要检测的对象</li>
</ul>
<h3 id="描述-4">描述</h3>
<p>默认情况下，对象是可扩展的：即可以为他们添加新的属性。以及它们的 <code>__proto__</code>  属性可以被更改。<code>Object.preventExtensions</code>，<code>Object.seal</code> 或 <code>Object.freeze</code> 方法都可以标记一个对象为不可扩展（<code>non-extensible</code>）。</p>
<h3 id="例子-3">例子</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// 新对象默认是可扩展的.
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">empty</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">empty</span><span class="p">);</span> <span class="c1">// === true
</span><span class="c1"></span>
<span class="c1">// ...可以变的不可扩展.
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">(</span><span class="nx">empty</span><span class="p">);</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">empty</span><span class="p">);</span> <span class="c1">// === false
</span><span class="c1"></span>
<span class="c1">// 密封对象是不可扩展的.
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">sealed</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">seal</span><span class="p">({});</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">sealed</span><span class="p">);</span> <span class="c1">// === false
</span><span class="c1"></span>
<span class="c1">// 冻结对象也是不可扩展.
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">frozen</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">({});</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">frozen</span><span class="p">);</span> <span class="c1">// === false
</span></code></pre></td></tr></table>
</div>
</div><h2 id="objectseal">Object.seal()</h2>
<p>让一个对象密封，并返回被密封后的对象。密封对象是指那些不能添加新的属性，不能删除已有属性，以及不能修改已有属性的可枚举性、可配置性、可写性，但可能可以修改已有属性的值的对象。</p>
<h3 id="语法-7">语法</h3>
<p><code>Object.seal(obj)</code></p>
<h3 id="参数-7">参数</h3>
<ul>
<li>obj
将要被密封的对象</li>
</ul>
<h3 id="描述-5">描述</h3>
<p>通常情况下，一个对象是可扩展的（可以添加新的属性）。密封一个对象会让这个对象变的不能添加新属性，且所有已有属性会变的不可配置。属性不可配置的效果就是属性变的不可删除，以及一个数据属性不能被重新定义成为访问器属性，或者反之。但属性的值仍然可以修改。尝试删除一个密封对象的属性或者将某个密封对象的属性从数据属性转换成访问器属性，结果会静默失败或抛出 <code>TypeError</code> 异常（严格模式）。</p>
<p>不会影响从原型链上继承的属性。但 <code>__proto__ (  )</code> 属性的值也会不能修改。</p>
<h3 id="例子-4">例子</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">prop</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{},</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">&#34;bar&#34;</span>
  <span class="p">};</span>

<span class="c1">// 可以添加新的属性,已有属性的值可以修改,可以删除
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&#34;baz&#34;</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">lumpy</span> <span class="o">=</span> <span class="s2">&#34;woof&#34;</span><span class="p">;</span>
<span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">prop</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">seal</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="nx">assert</span><span class="p">(</span><span class="nx">o</span> <span class="o">===</span> <span class="nx">obj</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="kc">true</span><span class="p">);</span>

<span class="c1">// 仍然可以修改密封对象上的属性的值.
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&#34;quux&#34;</span><span class="p">;</span>

<span class="c1">// 但不能把一个数据属性重定义成访问器属性.
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;foo&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">&#34;g&#34;</span><span class="p">;</span> <span class="p">}</span> <span class="p">});</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span>
<span class="c1">// 现在,任何属性值以外的修改操作都会失败.
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">quaxxor</span> <span class="o">=</span> <span class="s2">&#34;the friendly duck&#34;</span><span class="p">;</span> <span class="c1">// 静默失败,新属性没有成功添加
</span><span class="c1"></span><span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span> <span class="c1">// 静默失败,属性没有删除成功
</span><span class="c1"></span>
<span class="c1">// ...在严格模式中,会抛出TypeError异常
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">fail</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&#34;use strict&#34;</span><span class="p">;</span>
  <span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">sparky</span> <span class="o">=</span> <span class="s2">&#34;arf&#34;</span><span class="p">;</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span><span class="p">}</span>
<span class="nx">fail</span><span class="p">();</span>

<span class="c1">// 使用Object.defineProperty方法同样会抛出异常
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;ohai&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">17</span> <span class="p">});</span> <span class="c1">// 抛出TypeError异常
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;foo&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;eit&#34;</span> <span class="p">});</span> <span class="c1">// 成功将原有值改变
</span></code></pre></td></tr></table>
</div>
</div>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Kiyon Lin</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2017-02-16
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://kiyonlin.github.io/tags/javascript/">javascript</a>
          <a href="https://kiyonlin.github.io/tags/object/">object</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/work/cs/%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E8%AE%BE%E7%BD%AEmac%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">从头开始设置MAC开发环境</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/work/web/js/javascript%E4%B8%AD%E7%9A%84apply-call-bind/">
            <span class="next-text nav-default">javascript中的apply,call,bind</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "kiyonlin/kiyonlin.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:kiyonlin@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
  
  
  
  
  
    <a href="https://github.com/kiyonlin" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
  
    <a href="https://www.zhihu.com/people/kiyonlin" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
  
  
  
  
  
  
  
  
  


<a href="https://kiyonlin.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2016 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Kiyon Lin
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
